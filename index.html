<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fuori Scala Feelings - Choose Your Mood</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main>
    <h1>Scegli la tua emozione</h1>
    <form id="moodForm">
      <label for="emotionSelect">Emozione:</label>
      <select id="emotionSelect" name="emotion" required>
        <option value="" disabled selected>Seleziona un'emozione</option>
        <option value="Joy">Joy</option>
        <option value="Sadness">Sadness</option>
        <option value="Anger">Anger</option>
        <option value="Fear">Fear</option>
        <option value="Calm">Calm</option>
        <option value="Love">Love</option>
      </select>

      <label for="thoughtInput" style="margin-top: 20px; display: block;">Scrivi il tuo pensiero (opzionale):</label>
      <textarea id="thoughtInput" name="thought" rows="4" placeholder="Esprimi qui il tuo stato d'animo..."></textarea>

      <button type="submit" style="margin-top: 30px;">Salva e Vai alla Borsa</button>
    </form>
  </main>

  <script>
    const form = document.getElementById('moodForm');
    form.addEventListener('submit', e => {
      e.preventDefault();

      const emotion = form.emotion.value;
      const thought = form.thought.value.trim();

      if(!emotion) {
        alert('Per favore, seleziona un\'emozione.');
        return;
      }

      // Salva in localStorage
      localStorage.setItem('userEmotion', emotion);
      localStorage.setItem('userThought', thought);

      // Reindirizza a mood.html con query param
      window.location.href = `mood.html?emotion=${encodeURIComponent(emotion)}`;
    });
  </script>
</body>
</html>
